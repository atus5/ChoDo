<template>
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://voz.vn/attachments/untitled-1-jpg.502903/"
                    class="d-block w-100" alt="Banner 1">
                <div class="carousel-caption d-none d-md-block">
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://voz.vn/attachments/untitled-3-jpg.502904/"
                    class="d-block w-100" alt="Banner 2">
                <div class="carousel-caption d-none d-md-block">
                </div>
            </div>
            <div class="carousel-item">
                <img src="https://voz.vn/attachments/untitled-2-jpg.502905/"
                    class="d-block w-100" alt="Banner 3">
                <div class="carousel-caption d-none d-md-block">
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <div class="container my-4">
        <!-- D·ªãch v·ª• Kh√¥ g√† Ch·ªô ƒê√≥ -->
        <div class="card p-4">
            <h3 class="text-center mb-4">D·ªäCH V·ª§ T·∫†I KH√î G√Ä CH·ªò ƒê√ì</h3>
            <div class="row text-center">
                <div class="col-md-3 mb-3">
                    <i class="fa fa-drumstick-bite fa-3x text-danger mb-2"></i>
                    <p>
                        <strong>Kh√¥ g√† lo·∫°i 1</strong><br />
                        <span class="text-muted">G√† ta n∆∞·ªõng th∆°m l·ª´ng, cay ƒë·ªôc quy·ªÅn. ƒÇn m·ªôt c√°i l√† 'ƒë·ªïi m√†u m·∫∑t' nh∆∞ng v·∫´n c·ª© ƒÉn ti·∫øp! üî•</span>
                    </p>
                </div>
                <div class="col-md-3 mb-3">
                    <i class="fa fa-leaf fa-3x text-success mb-2"></i>
                    <p>
                        <strong>B√£ m√≠a</strong><br />
                        <span class="text-muted">B√£ m√≠a kh√¥ t·ª´ 120 Y√™n L√£ng, d·∫ªo dai, v·ªã ng·ªçt t·ª± nhi√™n. ƒÇn k√®m kh√¥ g√† l√† 'n·∫∑ng l·ª≥' t·ª´ng b·ªØa! üéã</span>
                    </p>
                </div>
                <div class="col-md-3 mb-3">
                    <i class="fa fa-fire fa-3x text-warning  mb-2"></i>
                    <p>
                        <strong>Kh√¥ g√† lo·∫°i 2</strong><br />
                        <span class="text-muted">Kh√¥ g√† lo·∫°i 2 l√†m t·ª´ b√£ m√≠a ƒë√® team si√™u dai si√™u ngon üí¶</span>
                    </p>
                </div>
                <div class="col-md-3 mb-3">
                    <i class="fa fa-rocket fa-3x text-primary mb-2"></i>
                    <p>
                        <strong>Giao h√†ng nh∆∞ bay</strong><br />
                        <span class="text-muted">30 ph√∫t hay mi·ªÖn ph√≠! Con ch√≥ cao b·∫±ng b·ªô pc ch·∫°y nhanh h∆°n g√† b·ªã ƒëu·ªïi. Kh√¥ g√† v·∫´n n√≥ng h∆°i khi t·ªõi tay b·∫°n! üöÄ</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- Kh√¥ g√† b√°n ch·∫°y -->
        <h3 class="text-center">KH√î G√Ä HOT CH·ªò ƒê√ì</h3>
        <div class="row mt-4">
            <template v-for="(value, index) in list_phim.filter(x => x.tinh_trang === 2).slice(0, 4)" :key="index">
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card position-relative shadow-sm">
                        <img :src="value.hinh_anh" class="card-img-top" alt=""
                            style="height: 400px; object-fit: cover;">
                        <div class="card-body">
                            <h6 class="card-title text-warning fw-bold">{{ value.ten_phim }}</h6>
                            <p class="text-muted mb-1">{{ value.the_loai }}</p>
                            <div class="d-flex align-items-center mb-2">
                                <span class="text-warning me-1">
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star"></i>
                                    <i class="fa-solid fa-star-half-stroke"></i>
                                    9.5
                                </span>
                                <span class="ms-auto fw-bold">
                                    <router-link :to="`/chi-tiet-phim/${value.id}`">
                                        <a href="#" class="btn btn-outline-danger w-100">Mua kh√¥ g√†</a>
                                    </router-link>
                                </span>
                            </div>

                        </div>
                    </div>
                </div>
            </template>
        </div>

        <div class="text-center mb-4">
            <router-link to="/phim/dang-chieu">
                <button class="btn btn-outline-danger rounded-pill">Xem t·∫•t c·∫£ c√°c lo·∫°i kh√¥ g√†</button>
            </router-link>
        </div>

        <!-- V·ªÅ ch√∫ng t√¥i -->
        <div class="card p-5 border-0 shadow-sm rounded-4" style="background-color: #000957;">
            <h3 class="text-center text-uppercase fw-bold mb-5 text-light">V·ªÅ ch√∫ng t√¥i</h3>
            <div class="row align-items-center">
                <!-- N·ªôi dung b√™n tr√°i -->
                <div class="col-md-7">
                    <h4 class="fw-bold mb-3">
                        <span class="text-danger">Mua kh√¥ g√† th∆°m l≈©ng </span>
                        <span class="text-primary">Online </span>
                        <span class=" text-light">tr√™n Kh√¥ g√† Ch·ªô ƒê√≥</span>
                    </h4>
                    <p class="text-light fs-5 mb-4">
                        Tr·∫£i nghi·ªám mua kh√¥ g√† tr·ª±c tuy·∫øn d·ªÖ d√†ng, nhi·ªÅu ∆∞u ƒë√£i h·∫•p d·∫´n v√† k·∫øt n·ªëi v·ªõi c√°c c·ª•m b√°n kh√¥ g√† l·ªõn tr√™n
                        to√†n qu·ªëc.
                    </p>
                    <ul class="list-unstyled fs-5">
                        <li class="mb-3 d-flex align-items-start">
                            <i class="fa fa-check-circle text-success me-2 mt-1"></i>
                            <span class="text-light">Mua kh√¥ g√† Online, tr·∫£i nghi·ªám kh√¥ g√† ngon</span>
                        </li>
                        <li class="mb-3 d-flex align-items-start">
                            <i class="fa fa-check-circle text-success me-2 mt-1"></i>
                            <span class="text-light">ƒê·∫∑t kh√¥ g√† an to√†n, ti·ªán l·ª£i trong v√†i b∆∞·ªõc</span>
                        </li>
                        <li class="mb-3 d-flex align-items-start">
                            <i class="fa fa-check-circle text-success me-2 mt-1"></i>
                            <span class="text-light">T·ª± do ch·ªçn lo·∫°i kh√¥ g√†, combo gia v·ªã si√™u hot</span>
                        </li>
                        <li class="mb-3 d-flex align-items-start">
                            <i class="fa fa-check-circle text-success me-2 mt-1"></i>
                            <span class="text-light">L∆∞u l·ªãch s·ª≠ ƒë·∫∑t h√†ng, qu·∫£n l√Ω ƒë∆°n h√†ng d·ªÖ d√†ng</span>
                        </li>
                    </ul>
                </div>

                <!-- ·∫¢nh b√™n ph·∫£i -->
                <div class="col-md-5 text-center">
                    <img src="https://media.baamboozle.com/uploads/images/55836/1682378705_349492_import-url.png"
                        alt="Mua kh√¥ g√† online" class="img-fluid rounded-3 shadow-sm">
                </div>
            </div>
        </div>


        <!-- KH√î G√Ä S·∫ÆP B√ÅN -->
        <h3 class="text-center mb-4">KH√î G√Ä S·∫ÆP B√ÅN</h3>
        <div class="row">
            <template v-for="(value, index) in list_phim.filter(x => x.tinh_trang === 1).slice(0, 4)" :key="index">
                <div class="col-md-3 mb-4 d-flex">
                    <div class="card flex-full w-100" style="background-color: #FFF2F2;">
                        <img :src="value.hinh_anh" class="card-img-top" style="height: 350px;">
                        <div class="card-body">
                            <span class="badge bg-danger mb-2">{{ 100000 + index * 2000 }} ng∆∞·ªùi ƒë√£ mua</span>
                            <h5 class="card-title text-truncate text-warning">{{ value.ten_phim }}</h5>
                            <p class="card-text">{{ value.the_loai }}</p>
                            <button class="btn btn-outline-danger btn-sm mt-2">Nh·∫Øc t√¥i</button>
                        </div>
                    </div>
                </div>
            </template>
        </div>
        <div class="text-center">
            <router-link to="/phim/sap-chieu">
                <button class="btn btn-outline-danger rounded-pill ">Xem t·∫•t c·∫£ c√°c lo·∫°i kh√¥ g√†</button>
            </router-link>
        </div>

        <!-- B√ÄI VI·∫æT -->
        <h3 class="text-center mb-4 mt-4">B√ÄI VI·∫æT</h3>
        <div class="row">
            <template v-for="(value, index) in list_bv.slice(0, 6)" :key="index">
                <div class="col-lg-4 mb-4 ">
                    <router-link :to="`/chi-tiet-bai-viet/${value.id}`">
                        <div class="card h-100">
                            <img :src="value.hinh_anh" class="card-img-top" style="height: 250px;">
                            <div class="card-body">
                                <h5 class="card-title text-truncate">{{ value.tieu_de }}
                                </h5>
                                <p class="card-text text-dark">{{ value.mo_ta_ngan }}</p>
                            </div>
                        </div>
                    </router-link>
                </div>
            </template>
        </div>
        <h3 class="text-center mb-4 fw-bold ">Kh√°ch H√†ng N√≥i G√¨ V·ªÅ Kh√¥ g√† Ch·ªô ƒê√≥?</h3>
        <div class="row justify-content-center">
            <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm " style="background-color: #000957;">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-2">
                            <img src="https://voz.vn/attachments/542754057_1467285577853420_8471185407916019492_n-jpg.3225827/" alt="avatar"
                                class="rounded-circle me-3" width="48" height="48">
                            <div>
                                <div class="fw-bold text-light">La Qu√Ω X∆∞a</div>
                                <div class="text-muted text-light" style="font-size: 0.95em;">CEO Kh√¥ g√† Ch·ªô ƒê√≥</div>
                            </div>
                        </div>
                        <div class="mb-2">
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                        </div>
                        <div class="fst-italic text-light" style="font-size: 1em;">
                            "T√¥i ƒÉn h·∫øt m·ªôt g√≥i kh√¥ g√† trong 10 ph√∫t, r·ªìi n·∫±m lƒÉn ra v√¨ cay! V·ªã cay t·ª´ ƒë·ªãa ng·ª•c nh∆∞ng ngon v√¥ c√πng. Ch·∫Øc ch·∫Øn mua ti·∫øp üò≠üî•"
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm " style="background-color: #000957;">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-2">
                            <img src="https://voz.vn/attachments/images-12-jpeg.3334479/" alt="avatar"
                                class="rounded-circle me-3" width="48" height="48">
                            <div>
                                <div class="fw-bold text-light">Ph·∫°m Ch√≠ X∆∞a</div>
                                <div class="text-muted text-light" style="font-size: 0.95em;">Gi√°m ƒë·ªëc Kh√¥ g√† Ch·ªô ƒê√≥</div>
                            </div>
                        </div>
                        <div class="mb-2">
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                        </div>
                        <div class="fst-italic text-light" style="font-size: 1em;">
                            "Giao h√†ng 30 ph√∫t m√† t√¥i ch·ªâ ƒë·ª£i 15 ph√∫t! Kh√¥ g√† v·∫´n ·∫•m, v·∫´n gi√≤n. Anh/ch·ªã shipper ch·∫°y nhanh h∆°n g√† s·ª£ k√™u! Cho 5 sao üí®"
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-3">
                <div class="card h-100 shadow-sm " style="background-color: #000957;">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-2">
                            <img src="https://voz.vn/attachments/542754057_1467285577853420_8471185407916019492_n-jpg.3225827/" alt="avatar"
                                class="rounded-circle me-3" width="48" height="48">
                            <div>
                                <div class="fw-bold text-light">Tr·∫ßn C·∫£nh X∆∞a</div>
                                <div class="text-muted text-light" style="font-size: 0.95em;">Ch·ªß c·ª≠a h√†ng Kh√¥ g√† Ch·ªô ƒê√≥</div>
                            </div>
                        </div>
                        <div class="mb-2">
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                            <span class="text-warning">&#9733;</span>
                        </div>
                        <div class="fst-italic text-light" style="font-size: 1em;">
                            "Combo gia v·ªã gi√° h·ª£p l√Ω, kh√¥ g√† m·ªõi c·∫≠p nh·∫≠t li√™n t·ª•c, h·ªá th·ªëng l·ª±a ch·ªçn kh√¥ g√† ƒëa d·∫°ng ‚Äì Kh√¥ g√† Ch·ªô ƒê√≥
                            l√† l·ª±a 'S√°t T·ª≠' ch·ªâ c·∫ßn ƒÉn m·ªôt l·∫ßn l√† nghi·ªán! L·∫ßn t·ªõi mua combo kh√°c k·∫ªo cay h·∫øt t·∫•t c·∫£ ch√¢n tay üòÇ. Website d·ªÖ d√πng l·∫Øm!
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</template>

<script>
import axios from 'axios'
export default {
    data() {
        return {
            list_phim: [],
            list_bv: [],
        }
    },
    mounted() {
        this.loadData();
    },
    methods: {
        loadData() {
            axios
                .get('http://127.0.0.1:8000/api/client/home-page')
                .then((res) => {
                    this.list_phim = res.data.data_phim;
                    this.list_bv = res.data.data_bv;
                })
                .catch((err) => {
                    console.error('Load home page error:', err);
                    this.$toast.error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu trang ch·ªß');
                })
        }
    }
}
</script>

<style scoped>
.carousel-item {
    height: 400px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f0f0f0;
}

.carousel-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.carousel {
    position: relative;
}

.carousel-inner {
    position: relative;
    width: 100%;
    overflow: hidden;
}

.carousel-item {
    display: none;
    float: left;
    width: 100%;
    margin-right: -100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transition: transform 0.6s ease-in-out;
}

.carousel-item.active {
    display: block;
}

.carousel-item-next,
.carousel-item-prev {
    display: block;
}

.carousel-item-next {
    transform: translateX(100%);
}

.carousel-item-prev {
    transform: translateX(-100%);
}

.carousel-item-next.carousel-item-start,
.carousel-item-prev.carousel-item-end {
    transform: translateX(0);
}

.carousel-item-start {
    transform: translateX(-100%);
}

.carousel-item-end {
    transform: translateX(100%);
}
</style>